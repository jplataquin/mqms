<!DOCTYPE html>
<!--[if lt IE 7]>      <html class="no-js lt-ie9 lt-ie8 lt-ie7"> <![endif]-->
<!--[if IE 7]>         <html class="no-js lt-ie9 lt-ie8"> <![endif]-->
<!--[if IE 8]>         <html class="no-js lt-ie9"> <![endif]-->
<!--[if gt IE 8]><!--> <html class="no-js" lang="en-US"> <!--<![endif]-->
    <head>
        <meta charset="UTF-8" />
        <meta name="viewport" content="width=device-width, initial-scale=1.0" />
        <meta http-equiv="X-UA-Compatible" content="IE=edge">
        <link rel="pingback" href="https: //domainname.com/xmlrpc.php" />
        <title>Happy Birthday Peanut ü•ú!</title>
    
        <link rel="preconnect" href="https://fonts.googleapis.com">
        <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
        <link href="https://fonts.googleapis.com/css2?family=Inconsolata:wght@200..900&display=swap" rel="stylesheet">
        <audio id="audio" src="{{asset('images/hbd.mp3')}}"></audio>

        <style>



.text-left{
    text-align: left !important;
}


body {
  text-align: center;
  background: gray;
  font-family: "Inconsolata", monospace;
  font-optical-sizing: auto;
  font-weight: normal;
  font-style: normal;
  font-variation-settings:"wdth" 100;
}

.card__container {
  cursor: pointer;
  position: absolute;
  left: 50%;
  top: 50%;
  transform: translate(-50%, -50%);
  perspective: 1400px;
  transition: all 0.2s ease;

}

@media (min-width: 700px) {
  .open .card__container {
    transform: translate(0%, -50%);
  }

}



.card {
  max-width: 400px;
  max-height: 600px;
  width: 80vw;
  height: 120vw;
  transform-style: preserve-3d;
  transform: rotateX(65deg);
  transition: all 1s ease;

  
}


.open .card {
  transform: rotateX(0deg);
}
.card__panel {
  border: 1px solid black;
  position: absolute;
  top: 0;
  left: 0;
  width: 100%;
  height: 100%;
  display: grid;
  place-items: center;
  transition: all 1s ease;
  backface-visibility: visible;
  transform-origin: left;
  transform-style: preserve-3D;
  transform: rotate3d(0, 1, 0, 0deg);
}
.card__panel--front {
  backface-visibility: hidden;
  background: #1a0384;
  z-index: 1;
  
}
.open .card__panel--front {
  transform: rotate3d(0, 1, 0, -170deg);
}
.card__panel--inside-left {
  background: #fff;
  z-index: 0;
}
.open .card__panel--inside-left {
  transform: rotate3d(0, 1, 0, -170deg);
}
.card__panel--inside-right {
  border-left: none;
  background: #fff;
  z-index: -1;
}

p{
    margin:5px;
}

html {
  --s: 100px; /* control the size */
  --c1: #E1F5C4;
  --c2: #3B8183;
  
  --_g:#0000, #0004 5%,
     var(--c2) 6%  14%,var(--c1) 16% 24%,var(--c2) 26% 34%,var(--c1) 36% 44%,
     var(--c2) 46% 54%,var(--c1) 56% 64%,var(--c2) 66% 74%,var(--c1) 76% 84%,
     var(--c2) 86% 94%,#0004 95%,#0000;
  background:
    radial-gradient(100% 50% at 100% 0   ,var(--_g)),
    radial-gradient(100% 50% at 0    50% ,var(--_g)),
    radial-gradient(100% 50% at 100% 100%,var(--_g));
  background-size: var(--s) calc(2*var(--s));
}


.circle-img {
  border-radius: 50%;
  width:25%;
  position: absolute;
  z-index:2;
  display: none;
  transition-property: color, transform;
  transition-duration: 150ms;
  transition-timing-function: cubic-bezier(0.420, 0.000, 0.580, 1.000);
}




        </style>

    </head>
    <body>
        <!--[if lt IE 7]>
            <p class="browsehappy">You are using an <strong>outdated</strong> browser. Please <a href="#">upgrade your browser</a> to improve your experience.</p>
        <![endif]-->
        

        <p>Click card to open</p>

        <div class="card__container js-card-opener">
            <div class="card">
                <div class="card__panel card__panel--front">
                    <h1>‚ù§Ô∏è‚ù§Ô∏è‚ù§Ô∏è</h1>
                    <svg version="1.1" id="Layer_1" xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink" viewBox="0 0 369.507 369.507" xml:space="preserve" fill="#000000"><g id="SVGRepo_bgCarrier" stroke-width="0"></g><g id="SVGRepo_tracerCarrier" stroke-linecap="round" stroke-linejoin="round"></g><g id="SVGRepo_iconCarrier"> <g> <rect x="20.42" y="236.823" style="fill:#9f0000;" width="328.662" height="132.684"></rect> <rect x="20.42" y="307.889" style="fill:#EED898;" width="328.662" height="20.82"></rect> <path style="fill:#EE9BAC;" d="M348.552,210.068c10.052,0,18.2,8.148,18.2,18.2v21.836c0,20.103-16.297,36.4-36.4,36.4 c-20.103,0-36.4-16.296-36.4-36.4c0,20.103-16.297,36.4-36.399,36.4c-20.103,0-36.4-16.296-36.4-36.4 c0,20.103-16.297,36.4-36.4,36.4s-36.4-16.296-36.4-36.4c0,20.103-16.297,36.4-36.4,36.4s-36.399-16.296-36.399-36.4 c0,20.103-16.297,36.4-36.4,36.4s-36.4-16.296-36.4-36.4v-21.836c0-10.052,8.148-18.2,18.2-18.2L348.552,210.068L348.552,210.068z"></path> <rect x="74.491" y="121.041" style="fill:#9f0000;" width="220.521" height="89.026"></rect> <rect x="74.491" y="166.842" style="fill:#EED898;" width="220.521" height="13.969"></rect> <path style="fill:#EE9BAC;" d="M294.656,101.207c6.744,0,12.211,5.466,12.211,12.211v14.651c0,13.49-10.935,24.424-24.423,24.424 c-13.489,0-24.424-10.934-24.424-24.424c0,13.49-10.934,24.424-24.423,24.424s-24.424-10.934-24.424-24.424 c0,13.49-10.935,24.424-24.423,24.424s-24.423-10.934-24.423-24.424c0,13.49-10.936,24.424-24.424,24.424 s-24.423-10.934-24.423-24.424c0,13.49-10.935,24.424-24.424,24.424c-13.488,0-24.423-10.934-24.423-24.424v-14.651 c0-6.745,5.467-12.211,12.211-12.211H294.656z"></path> <g> <rect x="131.913" y="45.886" style="fill:#EED898;" width="18.004" height="55.321"></rect> <path style="fill:#FFB819;" d="M154.222,28.366c0-7.35-13.307-28.366-13.307-28.366s-13.307,21.016-13.307,28.366 s5.957,13.308,13.308,13.308C148.265,41.673,154.222,35.715,154.222,28.366z"></path> </g> <g> <rect x="175.745" y="45.886" style="fill:#EED898;" width="18.004" height="55.321"></rect> <path style="fill:#FFB819;" d="M198.055,28.366c0-7.35-13.307-28.366-13.307-28.366S171.44,21.016,171.44,28.366 s5.958,13.308,13.308,13.308C192.098,41.673,198.055,35.715,198.055,28.366z"></path> </g> <g> <rect x="219.578" y="45.886" style="fill:#EED898;" width="18.004" height="55.321"></rect> <path style="fill:#FFB819;" d="M241.888,28.366c0-7.35-13.307-28.366-13.307-28.366s-13.308,21.016-13.308,28.366 s5.958,13.308,13.308,13.308C235.93,41.673,241.888,35.715,241.888,28.366z"></path> </g> </g> </g></svg>
               </div>
                
                <div class="card__panel card__panel--inside-left">
                </div>
                
                <div class="card__panel card__panel--inside-right">
                    <p class="text-left">
                        You were swallowed by fierce storms.
                        </br>
                        Defeated by rough waters.
                        </br>
                        </br>
                        But here you are, standing in front of me.
                        </br>
                        </br>
                        Now I know,
                        </br>

                        that those things you went through
                        </br>
                        made you into one of the most 
                        <br>
                        beautiful woman in the world.
                        <br>
                        <br>
                        üéÇ Happy Birthday, Skydiver Zet! üéÇ
                        
                    </p>
                    
                    <!--
                    <img src="{{asset('images/zandj.png')}}" width="100px"/>
                    -->
                    <p>From your #1 fan<br>
                    - Skydiver JP -</p>
                </div>
            </div>
        </div>


      
        <script src="https://cdn.jsdelivr.net/npm/@tsparticles/confetti@3.0.3/tsparticles.confetti.bundle.min.js"></script>
        <script type="text/javascript">
          
            
            const audio = document.querySelector('#audio');

            let myReq = null;

            let imgReq = [];

            function randomInt(min, max) { // min and max included 
                return Math.floor(Math.random() * (max - min + 1) + min);
            }

            function fireConfetti(){
                const end = Date.now() + 15 * 500;

                // go Buckeyes!
                const colors = ["#bb0000", "#ffffff"];


                (function frame() {
                    confetti({
                        particleCount: 2,
                        angle: 60,
                        spread: 55,
                        origin: { x: 0 },
                        colors: colors,
                    });

                    confetti({
                        particleCount: 2,
                        angle: 120,
                        spread: 55,
                        origin: { x: 1 },
                        colors: colors,
                    });

                    if (Date.now() < end) {
                        myReq = requestAnimationFrame(frame);
                    }


         
                })();
            }


            
            let sf = (window.screen.width * .25);
            
            let lefOptions = [
                0,
                sf,
                sf+sf,
                sf+sf+sf
            ];
            
            function fall(img){
              (function frame() {

                    img.style.top = (img.offsetTop+1) +'px';
                    
             

                    if(img.offsetTop > window.screen.height){
                      img.style.top = '0px';
                      img.style.left =  lefOptions[randomInt(0,3)]+'px';
                    }

                    
                    imgReq.push( requestAnimationFrame(frame) );
          
         
              })();
            }

            function imgClick(img){

              img.onclick = ()=>{
                img.style.top = '0px';
                img.style.left =  lefOptions[randomInt(0,3)]+'px';
      
              };
            }

            function clearImg(){
              const items = document.querySelectorAll('.circle-img');
              items.forEach(itm=>{
                itm.style.display = 'none';
              });
            }

            function imgDrop(){
              const items = document.querySelectorAll('.circle-img');

              items.forEach(itm=>{

                let t = 1;
                
                t = randomInt(t,3000);

                  setTimeout(()=>{

                    itm.style.display = 'inline';
                    itm.style.top = '0px';
                   
                    itm.style.left = lefOptions[randomInt(0,3)]+'px';
                    
                  
                    imgClick(itm);
                    fall(itm);
                  },t);


              });
            }

            const openBtn = document.querySelector(".js-card-opener");

            openBtn.onclick = function () {

                document.body.classList.toggle("open");

                if(document.body.classList.contains('open')){
                    
                    audio.play();
               
                    fireConfetti();

                    
//                    imgDrop();


                }else{

                    audio.pause();
                    audio.currentTime = 0;
               
                    if(myReq != null){
                        cancelAnimationFrame(myReq);
                        myReq = null;
                    }

                    imgReq.forEach(img=>{
                      cancelAnimationFrame(img);
                    });

                    imgReq = [];
                    clearImg();
                }
                
            };


        </script>
    </body>
</html>